{% extends "firstapp/base.html" %}
{% block title %}Формы{% endblock title %}
{% block header %}Изучаем формы Django{% endblock header %}
{% block content %}
<!--<style>-->
<!--    .alert{color: red}-->
<!--    .form-group{margin:20px;}-->
<!--    .form-group input{width:250px; height:25px; border-radius:10px;}-->
<!--</style>-->
<!--<div class="container-fluid text-start my-2 border border-3">-->
<!--    <h5>Форма как таблица</h5>-->
<!--    <form method="Post">-->
<!--        {% csrf_token %}-->
<!--    <table>-->
<!--        {{ form.as_table }}-->
<!--    </table>-->
<!--        <input type="submit" value="Отправить">-->
<!--    </form>-->
<!--</div>-->
<!--<div class="container-fluid text-start my-2 border border-3">-->
<!--    <h5>Форма как список</h5>-->
<!--    <form method="Post">-->
<!--        {% csrf_token %}-->
<!--        <ul>-->
<!--            {{ form.as_ul }}-->
<!--        </ul>-->
<!--        <input type="submit" value="Отправить">-->
<!--    </form>-->
<!--</div>-->
<!--<div class="container-fluid text-start my-2 border border-3">-->
<!--    <h5>Форма как параграф</h5>-->
<!--    <form  method="POST">-->
<!--        {% csrf_token %}-->
<!--        <p>-->
<!--            {{ form.as_p }}-->
<!--        </p>-->
<!--        <input type="submit" value="Отправить">-->
<!--    </form>-->
<!--</div>-->

<!--<div class="container-fluid text-start my-2 border border-3">-->
<!--    <h5>Валидация данных</h5>-->
<!--    <form method="Post" novalidate>-->
<!--        {% csrf_token %}-->
<!--    <table>-->
<!--        {{ form.as_table }}-->
<!--    </table>-->
<!--        <input type="submit" value="Отправить">-->
<!--    </form>-->
<!--</div>-->

<div class="container-fluid text-start my-2 border border-5 border-warning">
    <h5>Формы и модели данных</h5>
    <form method="Post">
        {% csrf_token %}
            <div class="form-group my-2">
                {% for field in form %}
                <div>{{ field.label_tag }}</div>
                    <div>{{ field }}</div>
<!--                <div style="color:blue">{{ field.help_text }}</div>-->
                    <div class="error">{{ field.errors }}</div>
<!--                {% for error in field.errors %}-->
<!--                <div class="alert alert-danger">{{ error }}</div>-->
<!--                {% endfor %}-->
                {% endfor %}
            </div>
        <input type="submit" value="Отправить">
        {% if people.count > 0 %}
            <h5>Список клиентов</h5>
            <table class="table table-striped table-bordered text-start">
                <thead>
                    <tr>
                        <th>№</th>
                        <th>ФИО клиента</th>
                        <th>Возраст</th>
                    </tr>
                </thead>
                <tbody>
                    {% for person in people %}
                        <tr>
                            <td>{{ person.id }}</td>
                            <td> {{ person.name }}</td>
                            <td> {{ person.age }}</td>
                            <td>
                                <a href="edit_form/{{ person.id }}">Изменить</a>
                                <a href="delete/{{ person.id }}">Удалить</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
    </form>
</div>
{% endblock content %}
